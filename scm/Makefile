rhs_dir=$(HOME)/sw/rhs/
rsc3_dir=$(HOME)/sw/rsc3/src
rsc3_lang_dir=$(HOME)/sw/rsc3-lang/src
lisp_dir=$(HOME)/sw/hsc3-lisp/scm

rhs_lib=src/control/monad.scm src/data/bool.scm src/data/ord.scm src/data/function.scm src/data/list.scm src/data/tree.scm src/prelude.scm
rsc3_lib=command.scm constant.scm derived.scm envelope.scm list.scm sc3.scm
ugen_lib=db/ugen-core.scm db/ugen-ext.scm hw.scm

all: mk-rhs mk-ugen mk-rsc3
	echo "hsc3-lisp/scm"

mk-rhs:
	printf "; AUTOGENERATED: %s\n\n" "`date`" > rhs.scm
	(cd $(rhs_dir) ; cat $(rhs_lib) >> $(lisp_dir)/rhs.scm)

mk-ugen:
	printf "; AUTOGENERATED: %s\n\n" "`date`" > ugen.scm
	(cd $(rsc3_dir) ; cat $(ugen_lib) >> $(lisp_dir)/ugen.scm)

mk-rsc3:
	printf "; AUTOGENERATED: %s\n\n" "`date`" > rsc3.scm
	(cd $(rsc3_dir) ; cat $(rsc3_lib) >> $(lisp_dir)/rsc3.scm)
	cat $(rsc3_lang_dir)/overlap-texture.scm >> $(lisp_dir)/rsc3.scm

clean:
	rm -f rhs.scm rsc3.scm
